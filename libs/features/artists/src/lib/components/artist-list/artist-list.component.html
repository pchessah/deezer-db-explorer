
<div class="page">
  <div class="input-field-container">
    <lib-search-bar (searchArtistEvent)="searchArtist($event)"></lib-search-bar>
  </div>

  <div class="search-res-container" *ngIf="!hasErrors">
    <ng-container *ngIf="artistDetails.length; else noResults">
      <div *ngFor="let artistDetail of artistDetails" class="search-res-card" (click)="goToArtistPage(artistDetail)">
        <img class="artist-img" [src]="artistDetail.picture_xl" alt="artist-img"/>
        <span class="artist-name">{{artistDetail.name}}</span>
        <span (click)="goToArtistPage(artistDetail)" class="view-artist">View Details</span>
        <!-- <span class="fans">{{artistDetail.nb_album}} Albums.</span>
        <span class="fans">{{artistDetail.nb_fan}} Fans</span> -->
      </div>
      <ng-container *ngIf="isLoaded; else loading"></ng-container>
    </ng-container>
  </div>

  <ng-container *ngIf="hasErrors">
    <iframe  width="100%" height="300" [src]="url | safe"></iframe>
  </ng-container>

</div>

<ng-template #noResults>
  <div class="page">
    <span class="search">Search for your favorite artist</span>
    <img class="no-res" src="assets/no_results.svg" alt="No results found"/>

  </div>
</ng-template>

<ng-template #loading>
  <div class="spinner">
    <mat-spinner [diameter]="20"></mat-spinner>
  </div>
</ng-template>

