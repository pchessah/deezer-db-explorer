<div class="page" *ngIf="isLoaded; else loading">
  <div class="input-field-container">
    <lib-search-bar [listIsVisible]="true" (searchArtistEvent)="searchArtist($event)"></lib-search-bar>
  </div>

  <section class="artist-card">

    <div class="top-part">
      <img class="artist-img" [src]="artist.picture_xl" alt="artist-img" />
      <div class="minor-details">
        <span class="artist-name"><strong>Name: </strong>{{artist.name}}</span>
        <br>
        <span class="fans"><strong>Fans: </strong>{{artist.nb_fan}} Fans</span>
        <br>
        <section>
          <span> <strong>Top Tracks: </strong></span>
          <ul *ngFor="let track of topTracks">
            <li>{{track.title}}</li>
          </ul>
        </section>
      </div>
    </div>

    <div class="bottom-part">
      <section>
        <table mat-table [dataSource]="dataSource2" class="mat-elevation-z8">
          <!-- Tracks Column -->
          <ng-container matColumnDef="album">
            <th mat-header-cell *matHeaderCellDef> Album </th>
            <td mat-cell *matCellDef="let element"> {{element.title}} </td>
          </ng-container>

          <!-- Year Column -->
          <ng-container matColumnDef="year">
            <th mat-header-cell *matHeaderCellDef> Year released </th>
            <td mat-cell *matCellDef="let element"> {{element.release_date}} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns2;"></tr>
        </table>
      </section>

    </div>
  </section>
</div>

<ng-template #loading>
  <mat-spinner [diameter]="25"></mat-spinner>
</ng-template>